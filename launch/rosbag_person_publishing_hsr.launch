<launch>
  <arg name="rgb_input" default="/hsrb/head_rgbd_sensor/rgb/image_raw/compressed" />
  <!-- Note that this needs to be a depth image that is aligned to the rgb image so that the masks match up -->
  <arg name="depth_input" default="/hsrb/head_rgbd_sensor/depth_registered/image_raw/compressedDepth" /> 
  <arg name="detection_threshold" default="0.8" />
  <arg name="config" default="/root/centermask2/configs/centermask/centermask_lite_V_39_eSE_FPN_ms_4x.yaml" />
  <arg name="model" default="/root/centermask2-lite-V-39-eSE-FPN-ms-4x.pth" />
  <arg name="visualization" default="false" />
  <arg name="static_depth_image" default="static_depth_image" />
  <arg name="person_positions" default="person_positions" />
  <!-- <arg name="vicon_person" default="/vicon/person_1/person_1" /> -->
  <arg name="intrinsics_type" default="real" />

  <!-- HSR -->
  <arg name="camera_info" default="/hsrb/head_rgbd_sensor/depth_registered/camera_info" />

  <!-- Realsense  -->
  <!-- <arg name="camera_info" default="/camera/aligned_depth_to_color/camera_info" /> -->

  <node name="centermask2_depth_ros"  pkg="detectron2_ros" type="centermask2_depth_ros_compressed" output="screen" >
    <param name="rgb_input" value="$(arg rgb_input)" />
    <param name="depth_input" value="$(arg depth_input)" />
    <param name="detection_threshold" value="$(arg detection_threshold)" />
    <param name="config" value="$(arg config)" />
    <param name="model" value="$(arg model)" />
    <param name="visualization" value="$(arg visualization)" />
    <param name="static_depth_image" value="$(arg static_depth_image)" />
    <param name="camera_info" value="$(arg camera_info)" />
    <param name="person_positions" value="$(arg person_positions)" />
    <param name="intrinsics_type" value="$(arg intrinsics_type)" />
  </node>

  <node name="person_vicon_publisher"  pkg="detectron2_ros" type="person_vicon_publisher" output="screen" >
    <!-- <param name="vicon_person" value="$(arg vicon_person)" /> -->
    <param name="person_tracking" value="$(arg person_positions)" />
  </node>
</launch>